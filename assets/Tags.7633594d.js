import{q as w}from"./query.57b22872.js";import{u as V}from"./vue-i18n.runtime.esm-bundler.5dde88d2.js";import{h as F}from"./profile_photo_sm.9175c8ba.js";import{c as N,b as v,V as L,a as A}from"./VCard.5ee0d434.js";import{f as $,x as k,g as b,o as i,h as x,w as a,a as f,i as g,t as u,b as o,c as z,F as C,r as D,d as h,n as q,U as M}from"./entry.3925b63d.js";import{V as T}from"./index.9880a8f2.js";import{V as I,a as S,b as B,c as j}from"./VList.82a40514.js";import{_ as E}from"./_plugin-vue_export-helper.c27b6911.js";function O(){return{formatDateTime:l=>new Date(l).toLocaleString(),formatDate:l=>new Date(l).toLocaleDateString()}}const P=["src"],U={class:"py-1 text-h6 font-weight-medium"},Y={class:"pb-1 text-body-2"},ee=$({__name:"Summary",async setup(y){let s,l;const{t:m,locale:r}=V({messages:{en:{name:"Po Yen Tseng",notes:"Notes",categories:"Categories",tags:"Tags"},"zh-tw":{name:"曾柏硯",notes:"文章",categories:"分類",tags:"標籤"}}}),_=([s,l]=k(()=>w(r.value,"notes").find()),s=await s,l(),s),d=b(()=>({name:m("name"),title:"AI | Full-stack | DevOps"})),c=b(()=>[{link:`/${r.value}/notes`,name:m("notes"),counts:_.length},{link:`/${r.value}/notes/categories`,name:m("categories"),counts:_.map(e=>e.categories).reduce((e,t)=>e.includes(t)?e:[...e,t],[]).length},{link:`/${r.value}/notes/tags`,name:m("tags"),counts:_.map(e=>e.tags).flat().reduce((e,t)=>e.includes(t)?e:[...e,t],[]).length}]);return(e,t)=>(i(),x(v,{variant:"flat",class:"pa-2 mb-2 d-flex flex-column align-center rounded-lg"},{default:a(()=>[f("img",{class:"rounded-pill pa-2","aspect-ratio":1,height:"140",width:"140",src:g(F)},null,8,P),f("div",U,u(d.value.name),1),f("div",Y,u(d.value.title),1),o(N,{class:"d-flex align-center jusitfy-center"},{default:a(()=>[(i(!0),z(C,null,D(c.value,(n,p)=>(i(),x(v,{key:p,to:n.link,ripple:!1,variant:"plain",class:"pa-2 mx-2 d-flex flex-column align-center text-body-1"},{default:a(()=>[f("span",null,u(n.name),1),f("span",null,u(n.counts),1)]),_:2},1032,["to"]))),128))]),_:1})]),_:1}))}}),te=$({__name:"Latest",async setup(y){let s,l;const{formatDate:m}=O(),{t:r,locale:_}=V({messages:{en:{latest:"Latest"},"zh-tw":{latest:"最新文章"}}}),d=([s,l]=k(()=>w(_.value,"notes").sort({date:-1}).limit(5).find()),s=await s,l(),s);return(c,e)=>(i(),x(v,{variant:"flat",class:"pa-2 mb-2 rounded-lg"},{default:a(()=>[o(L,{class:"text-subtitle-1 pb-0 d-flex align-center"},{default:a(()=>[o(T,{size:"small",class:"pr-2"},{default:a(()=>[h("mdi-history")]),_:1}),f("span",null,u(g(r)("latest")),1)]),_:1}),o(I,{lines:"one"},{default:a(()=>[(i(!0),z(C,null,D(g(d),t=>(i(),x(S,{key:t.title,to:t._path},{default:a(()=>[o(B,{class:"text-subtitle-2"},{default:a(()=>[h(u(t.title),1)]),_:2},1024),o(j,{class:"text-caption"},{default:a(()=>[h(u(g(m)(t.date)),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})]),_:1}))}}),ae=$({__name:"Categories",async setup(y){let s,l;const{t:m,locale:r}=V({messages:{en:{categories:"Categories"},"zh-tw":{categories:"分類"}}}),_=([s,l]=k(()=>w(r.value,"notes").find()),s=await s,l(),s),d=b(()=>_.map(c=>c.categories).reduce((c,e)=>{let t=c.find(n=>n.name==e);return t?t.counts++:c.push({name:e,counts:1}),c},[]));return(c,e)=>(i(),x(v,{variant:"flat",class:"pa-2 mb-2 rounded-lg"},{default:a(()=>[o(L,{class:"text-subtitle-1 pb-0 d-flex align-center"},{default:a(()=>[o(T,{size:"small",class:"pr-2"},{default:a(()=>[h("mdi-folder-multiple")]),_:1}),f("span",null,u(g(m)("categories")),1)]),_:1}),o(I,{lines:"one",density:"compact"},{default:a(()=>[(i(!0),z(C,null,D(d.value,(t,n)=>(i(),x(S,{key:n,to:`/${g(r)}/notes/categories/${t.name}`},{default:a(()=>[o(B,{class:"d-flex align-center text-subtitle-2"},{default:a(()=>[o(T,{class:"mr-2"},{default:a(()=>[h("mdi-folder-outline")]),_:1}),f("span",null,u(`${t.name} (${t.counts})`),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})]),_:1}))}}),G=$({__name:"Tags",props:{currentTag:{}},async setup(y){let s,l;const{t:m,locale:r}=V({messages:{en:{tags:"Tags"},"zh-tw":{tags:"標籤"}}}),_=([s,l]=k(()=>w(r.value,"notes").find()),s=await s,l(),s),d=b(()=>_.map(e=>e.tags).flat().reduce((e,t)=>{let n=e.find(p=>p.name==t);return n?n.counts++:e.push({name:t,counts:1}),e},[]).sort((e,t)=>t.counts-e.counts)),c=e=>{const t=Math.max(...d.value.map(p=>p.counts)),n=Math.min(...d.value.map(p=>p.counts));return e<(t+n)/3?14:e<(t+n)/3*2?20:24};return(e,t)=>(i(),x(v,{variant:"flat",class:"pa-2 mb-2 rounded-lg"},{default:a(()=>[o(L,{class:"text-subtitle-1 d-flex align-center"},{default:a(()=>[o(T,{size:"small",class:"pr-2"},{default:a(()=>[h("mdi-tag-multiple")]),_:1}),f("span",null,u(g(m)("tags")),1)]),_:1}),o(A,{class:"px-2"},{default:a(()=>[(i(!0),z(C,null,D(d.value,(n,p)=>(i(),x(v,{key:p,to:`/${g(r)}/notes/tags/${n.name}`,ripple:!1,variant:"plain",class:q(["text-capitalize d-inline-block pa-2",{"active-tag":e.currentTag==n.name,"text-primary":e.currentTag==n.name,"text-secondary":e.currentTag!=n.name}]),style:M(`font-size: ${c(n.counts)}px`)},{default:a(()=>[h(u(`#${n.name}`),1)]),_:2},1032,["to","class","style"]))),128))]),_:1})]),_:1}))}});const se=E(G,[["__scopeId","data-v-6edd7d9e"]]);export{ee as _,te as a,ae as b,se as c,O as u};
